{"ast":null,"code":"var _jsxFileName = \"/Users/nataliapogrebnaa/Documents/goit-react-hw-03-phonebook/src/components/Phonebook/Phonebook.jsx\";\nimport { Component } from \"react\";\nimport styles from \"./Phonebook.module.css\";\nimport { generate } from \"shortid\";\nimport ContactsList from \"../ContactsList/ContactsList\";\nimport FormMain from \"../Form/Form\";\nimport Filter from \"../Filter/Filter\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Phonebook extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      contacts: [{\n        id: \"id-1\",\n        name: \"Rosie Simpson\",\n        number: \"459-12-56\"\n      }, {\n        id: \"id-2\",\n        name: \"Hermione Kline\",\n        number: \"443-89-12\"\n      }, {\n        id: \"id-3\",\n        name: \"Eden Clements\",\n        number: \"645-17-79\"\n      }, {\n        id: \"id-4\",\n        name: \"Annie Copeland\",\n        number: \"227-91-26\"\n      }],\n      filter: \"\"\n    };\n\n    this.addContact = ({\n      name,\n      number\n    }) => {\n      const {\n        contacts\n      } = this.state;\n      contacts.find(contact => contact.name === name) ? alert(`${name} is already in contacts`) : contacts.find(contact => contact.number === number) ? alert(`${number} is already in contacts`) : this.setState(prevState => {\n        const newContact = [...prevState.contacts];\n        newContact.push({\n          name: name,\n          number: number,\n          id: generate()\n        });\n        return {\n          contacts: newContact\n        };\n      });\n    };\n\n    this.handleChange = e => {\n      const {\n        name,\n        value\n      } = e.currentTarget;\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.filterInput = () => {\n      const {\n        contacts,\n        filter\n      } = this.state;\n      const FilterLowerCase = filter.toLowerCase();\n      return contacts.filter(item => {\n        var _item$name;\n\n        return item === null || item === void 0 ? void 0 : (_item$name = item.name) === null || _item$name === void 0 ? void 0 : _item$name.toLowerCase().includes(FilterLowerCase);\n      });\n    };\n\n    this.onDelete = idx => {\n      this.setState(({\n        contacts\n      }) => {\n        const deleteContact = contacts.filter(contact => contact.id !== idx);\n        return {\n          contacts: deleteContact\n        };\n      });\n    };\n  }\n\n  componentDidMount() {\n    const contacts = JSON.parse(localStorage.getItem(\"contacts\"));\n\n    if (contacts === null || contacts === void 0 ? void 0 : contacts.length) {\n      this.setState({\n        contacts\n      });\n    }\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    if (JSON.stringify(prevState.contacts) !== JSON.stringify(this.state.contacts)) {\n      localStorage.setItem(\"contacts\", JSON.stringify(this.state.contacts));\n    }\n  }\n\n  render() {\n    const {\n      filter\n    } = this.state;\n    const {\n      handleChange,\n      addContact,\n      filterInput,\n      onDelete\n    } = this;\n    const Contacts = filterInput();\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.container,\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: styles.Title,\n        children: \"Phonebook\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(FormMain, {\n        onSubmit: addContact\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: styles.Title,\n        children: \"Contacts\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Filter, {\n        onChange: handleChange,\n        value: filter\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ContactsList, {\n        list: Contacts,\n        onDelete: onDelete\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default Phonebook;","map":{"version":3,"sources":["/Users/nataliapogrebnaa/Documents/goit-react-hw-03-phonebook/src/components/Phonebook/Phonebook.jsx"],"names":["Component","styles","generate","ContactsList","FormMain","Filter","Phonebook","state","contacts","id","name","number","filter","addContact","find","contact","alert","setState","prevState","newContact","push","handleChange","e","value","currentTarget","filterInput","FilterLowerCase","toLowerCase","item","includes","onDelete","idx","deleteContact","componentDidMount","JSON","parse","localStorage","getItem","length","componentDidUpdate","prevProps","snapshot","stringify","setItem","render","Contacts","container","Title"],"mappings":"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","sourcesContent":["import { Component } from \"react\";\nimport styles from \"./Phonebook.module.css\";\nimport { generate } from \"shortid\";\nimport ContactsList from \"../ContactsList/ContactsList\";\nimport FormMain from \"../Form/Form\";\nimport Filter from \"../Filter/Filter\";\n\nclass Phonebook extends Component {\n  state = {\n    contacts: [\n      { id: \"id-1\", name: \"Rosie Simpson\", number: \"459-12-56\" },\n      { id: \"id-2\", name: \"Hermione Kline\", number: \"443-89-12\" },\n      { id: \"id-3\", name: \"Eden Clements\", number: \"645-17-79\" },\n      { id: \"id-4\", name: \"Annie Copeland\", number: \"227-91-26\" },\n    ],\n    filter: \"\",\n  };\n\n  componentDidMount() {\n    const contacts = JSON.parse(localStorage.getItem(\"contacts\"));\n\n    if (contacts?.length) {\n      this.setState({\n        contacts,\n      });\n    }\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    if (\n      JSON.stringify(prevState.contacts) !== JSON.stringify(this.state.contacts)\n    ) {\n      localStorage.setItem(\"contacts\", JSON.stringify(this.state.contacts));\n    }\n  }\n\n  addContact = ({ name, number }) => {\n    const { contacts } = this.state;\n    contacts.find((contact) => contact.name === name)\n      ? alert(`${name} is already in contacts`)\n      : contacts.find((contact) => contact.number === number)\n      ? alert(`${number} is already in contacts`)\n      : this.setState((prevState) => {\n          const newContact = [...prevState.contacts];\n          newContact.push({ name: name, number: number, id: generate() });\n          return { contacts: newContact };\n        });\n  };\n\n  handleChange = (e) => {\n    const { name, value } = e.currentTarget;\n    this.setState({\n      [name]: value,\n    });\n  };\n\n  filterInput = () => {\n    const { contacts, filter } = this.state;\n    const FilterLowerCase = filter.toLowerCase();\n    return contacts.filter((item) =>\n      item?.name?.toLowerCase().includes(FilterLowerCase)\n    );\n  };\n\n  onDelete = (idx) => {\n    this.setState(({ contacts }) => {\n      const deleteContact = contacts.filter((contact) => contact.id !== idx);\n      return { contacts: deleteContact };\n    });\n  };\n\n  render() {\n    const { filter } = this.state;\n    const { handleChange, addContact, filterInput, onDelete } = this;\n    const Contacts = filterInput();\n    return (\n      <div className={styles.container}>\n        <h2 className={styles.Title}>Phonebook</h2>\n        <FormMain onSubmit={addContact} />\n        <h2 className={styles.Title}>Contacts</h2>\n        <Filter onChange={handleChange} value={filter} />\n        <ContactsList list={Contacts} onDelete={onDelete} />\n      </div>\n    );\n  }\n}\n\nexport default Phonebook;\n"]},"metadata":{},"sourceType":"module"}