{"ast":null,"code":"import _defineProperty from\"/Users/nataliapogrebnaa/Documents/goit-react-hw-03-phonebook/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _toConsumableArray from\"/Users/nataliapogrebnaa/Documents/goit-react-hw-03-phonebook/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"/Users/nataliapogrebnaa/Documents/goit-react-hw-03-phonebook/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/nataliapogrebnaa/Documents/goit-react-hw-03-phonebook/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/nataliapogrebnaa/Documents/goit-react-hw-03-phonebook/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/nataliapogrebnaa/Documents/goit-react-hw-03-phonebook/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{Component}from\"react\";import styles from\"./Phonebook.module.css\";import{generate}from\"shortid\";import ContactsList from\"../ContactsList/ContactsList\";import FormMain from\"../Form/Form\";import Filter from\"../Filter/Filter\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Phonebook=/*#__PURE__*/function(_Component){_inherits(Phonebook,_Component);var _super=_createSuper(Phonebook);function Phonebook(){var _this;_classCallCheck(this,Phonebook);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={contacts:[{id:\"id-1\",name:\"Rosie Simpson\",number:\"459-12-56\"},{id:\"id-2\",name:\"Hermione Kline\",number:\"443-89-12\"},{id:\"id-3\",name:\"Eden Clements\",number:\"645-17-79\"},{id:\"id-4\",name:\"Annie Copeland\",number:\"227-91-26\"}],filter:\"\"};_this.addContact=function(_ref){var name=_ref.name,number=_ref.number;var contacts=_this.state.contacts;contacts.find(function(contact){return contact.name===name;})?alert(\"\".concat(name,\" is already in contacts\")):contacts.find(function(contact){return contact.number===number;})?alert(\"\".concat(number,\" is already in contacts\")):_this.setState(function(prevState){var newContact=_toConsumableArray(prevState.contacts);newContact.push({name:name,number:number,id:generate()});return{contacts:newContact};});};_this.handleChange=function(e){var _e$currentTarget=e.currentTarget,name=_e$currentTarget.name,value=_e$currentTarget.value;_this.setState(_defineProperty({},name,value));};_this.filterInput=function(){var _this$state=_this.state,contacts=_this$state.contacts,filter=_this$state.filter;var FilterLowerCase=filter.toLowerCase();return contacts.filter(function(item){var _item$name;return item===null||item===void 0?void 0:(_item$name=item.name)===null||_item$name===void 0?void 0:_item$name.toLowerCase().includes(FilterLowerCase);});};_this.onDelete=function(idx){_this.setState(function(_ref2){var contacts=_ref2.contacts;var deleteContact=contacts.filter(function(contact){return contact.id!==idx;});return{contacts:deleteContact};});};return _this;}_createClass(Phonebook,[{key:\"componentDidMount\",value:function componentDidMount(){var contacts=JSON.parse(localStorage.getItem(\"contacts\"));if(contacts===null||contacts===void 0?void 0:contacts.length){this.setState({contacts:contacts});}}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps,prevState,snapshot){if(JSON.stringify(prevState.contacts)!==JSON.stringify(this.state.contacts)){localStorage.setItem(\"contacts\",JSON.stringify(this.state.contacts));}}},{key:\"render\",value:function render(){var filter=this.state.filter;var handleChange=this.handleChange,addContact=this.addContact,filterInput=this.filterInput,onDelete=this.onDelete;var Contacts=filterInput();return/*#__PURE__*/_jsxs(\"div\",{className:styles.container,children:[/*#__PURE__*/_jsx(\"h2\",{className:styles.Title,children:\"Phonebook\"}),/*#__PURE__*/_jsx(FormMain,{onSubmit:addContact}),/*#__PURE__*/_jsx(\"h2\",{className:styles.Title,children:\"Contacts\"}),/*#__PURE__*/_jsx(Filter,{onChange:handleChange,value:filter}),/*#__PURE__*/_jsx(ContactsList,{list:Contacts,onDelete:onDelete})]});}}]);return Phonebook;}(Component);export default Phonebook;","map":{"version":3,"sources":["/Users/nataliapogrebnaa/Documents/goit-react-hw-03-phonebook/src/components/Phonebook/Phonebook.jsx"],"names":["Component","styles","generate","ContactsList","FormMain","Filter","Phonebook","state","contacts","id","name","number","filter","addContact","find","contact","alert","setState","prevState","newContact","push","handleChange","e","currentTarget","value","filterInput","FilterLowerCase","toLowerCase","item","includes","onDelete","idx","deleteContact","JSON","parse","localStorage","getItem","length","prevProps","snapshot","stringify","setItem","Contacts","container","Title"],"mappings":"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","sourcesContent":["import { Component } from \"react\";\nimport styles from \"./Phonebook.module.css\";\nimport { generate } from \"shortid\";\nimport ContactsList from \"../ContactsList/ContactsList\";\nimport FormMain from \"../Form/Form\";\nimport Filter from \"../Filter/Filter\";\n\nclass Phonebook extends Component {\n  state = {\n    contacts: [\n      { id: \"id-1\", name: \"Rosie Simpson\", number: \"459-12-56\" },\n      { id: \"id-2\", name: \"Hermione Kline\", number: \"443-89-12\" },\n      { id: \"id-3\", name: \"Eden Clements\", number: \"645-17-79\" },\n      { id: \"id-4\", name: \"Annie Copeland\", number: \"227-91-26\" },\n    ],\n    filter: \"\",\n  };\n\n  componentDidMount() {\n    const contacts = JSON.parse(localStorage.getItem(\"contacts\"));\n\n    if (contacts?.length) {\n      this.setState({\n        contacts,\n      });\n    }\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    if (\n      JSON.stringify(prevState.contacts) !== JSON.stringify(this.state.contacts)\n    ) {\n      localStorage.setItem(\"contacts\", JSON.stringify(this.state.contacts));\n    }\n  }\n\n  addContact = ({ name, number }) => {\n    const { contacts } = this.state;\n    contacts.find((contact) => contact.name === name)\n      ? alert(`${name} is already in contacts`)\n      : contacts.find((contact) => contact.number === number)\n      ? alert(`${number} is already in contacts`)\n      : this.setState((prevState) => {\n          const newContact = [...prevState.contacts];\n          newContact.push({ name: name, number: number, id: generate() });\n          return { contacts: newContact };\n        });\n  };\n\n  handleChange = (e) => {\n    const { name, value } = e.currentTarget;\n    this.setState({\n      [name]: value,\n    });\n  };\n\n  filterInput = () => {\n    const { contacts, filter } = this.state;\n    const FilterLowerCase = filter.toLowerCase();\n    return contacts.filter((item) =>\n      item?.name?.toLowerCase().includes(FilterLowerCase)\n    );\n  };\n\n  onDelete = (idx) => {\n    this.setState(({ contacts }) => {\n      const deleteContact = contacts.filter((contact) => contact.id !== idx);\n      return { contacts: deleteContact };\n    });\n  };\n\n  render() {\n    const { filter } = this.state;\n    const { handleChange, addContact, filterInput, onDelete } = this;\n    const Contacts = filterInput();\n    return (\n      <div className={styles.container}>\n        <h2 className={styles.Title}>Phonebook</h2>\n        <FormMain onSubmit={addContact} />\n        <h2 className={styles.Title}>Contacts</h2>\n        <Filter onChange={handleChange} value={filter} />\n        <ContactsList list={Contacts} onDelete={onDelete} />\n      </div>\n    );\n  }\n}\n\nexport default Phonebook;\n"]},"metadata":{},"sourceType":"module"}